<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=lhDjYqiy3mZ0x6ROQEUoUw');ol{margin:0;padding:0}table td,table th{padding:0}.c1{margin-left:-40.5pt;padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;margin-right:-27pt;height:11pt}.c3{margin-left:-40.5pt;padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;margin-right:-27pt}.c8{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c4{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c0{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c9{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c11{font-size:10pt;font-family:"Consolas";color:#333333;font-weight:400}.c6{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c2{background-color:#ffffff;font-size:10.5pt;color:#1155cc}.c7{color:inherit;text-decoration:inherit}.c5{font-weight:700}.c10{font-style:italic}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c6"><p class="c3"><span class="c5">Overview</span></p><p class="c3"><span class="c0">In this project, we added more functionalities to our rendering pipeline. In part 1, we implemented functions for calculating reflections and refractions of objects. Then in part 4, we implemented a thin lens camera model to create a depth of field effect where only parts of the image are in focus similar to a real camera.</span></p><p class="c1"><span class="c4"></span></p><p class="c3"><span class="c4">Part 1</span></p><p class="c3"><span class="c4">Implementation</span></p><p class="c3"><span>We first implemented the </span><span class="c11">BSDF::reflect()</span><span class="c5">&nbsp;</span><span class="c0">function which proved to be quite easy in the object space. Then we moved onto implementing the sampling function for MirrorBSDF which called the reflect function that we just implemented. </span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c0">Implementing refraction was a bit more tricky. Using the formulas provided, we calculated a wi direction given a wo direction. We also checked for total internal reflection with Snell&rsquo;s law in which case we simply return false and don&rsquo;t provide a wi.</span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c0">Finally, we implemented glass which involved a mixture of reflections and refractions. We first ensure there is no total internal reflection and then using Schlick&#39;s approximation, we can decide whether to reflect or refract.</span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span>The one significant bug I ran into during this process was using an incorrect eta value by directly assigning eta to ior (I did not check for a positive/negative wo.z value).</span></p><p class="c1"><span class="c4"></span></p><p class="c3"><span class="c4">Show a sequence of six images of scene CBspheres.dae rendered with max_ray_depth set to 0, 1, 2, 3, 4, 5, and 100. The other settings should be at least 64 samples per pixel and 4 samples per light.</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 341.50px; height: 255.34px;"><img alt="" src="images/image12.png" style="width: 341.50px; height: 255.34px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 338.50px; height: 254.26px;"><img alt="" src="images/image16.png" style="width: 338.50px; height: 254.26px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c0">m = 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m = 1</span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 343.50px; height: 256.06px;"><img alt="" src="images/image8.png" style="width: 343.50px; height: 256.06px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 340.50px; height: 256.17px;"><img alt="" src="images/image1.png" style="width: 340.50px; height: 256.17px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c0">m = 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m = 3</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 339.50px; height: 255.39px;"><img alt="" src="images/image7.png" style="width: 339.50px; height: 255.39px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.50px; height: 259.88px;"><img alt="" src="images/image4.png" style="width: 346.50px; height: 259.88px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c0">m = 4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m = 5</span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 480.00px; height: 360.00px;"><img alt="" src="images/image15.png" style="width: 480.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c0">m = 100</span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c4"></span></p><p class="c3"><span class="c4">Point out the new multibounce effects that appear in each image.</span></p><p class="c3"><span class="c0">0: Only light is from the light source</span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c0">1: We see the light source being reflected off of the left sphere. Some of the light is reflected off of the right sphere.</span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c0">2: The left sphere is no longer black (other than the light source reflecting) as light starts bouncing off the walls and off the sphere. Similarly on the right sphere, some of the light bouncing off the walls is now reflecting through the sphere.</span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c0">3: The right sphere is now much brighter and the left sphere has softer shadows. There is also a bright spot on the ground beneath the right sphere from the light source.</span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c0">4: The shadow under the left sphere is even softer now and the right sphere is reflecting off of it with clear colors now.</span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c0">5: The shadow under the left sphere is more soft once again. The details of the right ball are more clear on the left sphere.</span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c0">100: Very similar to the 5 bounce one. Shadows are softer and more details on the left sphere of the right sphere.</span></p><p class="c1"><span class="c4"></span></p><p class="c1"><span class="c4"></span></p><p class="c3"><span class="c4">Explain how these bounce numbers relate to the particular effects that appear.</span></p><p class="c3"><span class="c0">0: No bounces means the only light comes directly from the light source.</span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c0">1: At one bounce, the light from the source is able to reflect off of the balls into the camera. </span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c0">2: At two bounces, the light is able to bounce off the walls and reflect off of the left and right balls.</span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c0">3: At three bounces, the light is able to bounce off the walls and not only reflect but refract through the right ball leading it to be much more colorful. This is also why there is a bright spot beneath the right ball from the light source refracting through it.</span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c0">4: The additional 4th bounce allows the reflection of the right ball on the left ball to be colored.</span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c0">5, 100: The 5th+ bounces create softer shadows and allow for more detail in the reflection of the right sphere on the left sphere due to additional bounces.</span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c4">Part 4</span></p><p class="c3"><span class="c5">In a few sentences, explain the differences between a pinhole camera model and a thin-lens camera model.</span></p><p class="c3"><span class="c0">In all of the previous parts/projects, we rendered the scene using a pinhole camera model where everything is in focus. However, real cameras are based off of lenses (which we simplify to a thin-lens model here) which results in only parts of the scene at a specific depth (focal length) being in focus. In the pinhole camera model, the ray shoots in a straight line from the camera to the scene but a thin-lens camera model has the ray passing through the lens and changing direction to the scene.</span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c4">Implementation</span></p><p class="c3"><span>This part was quite easy to understand and straightforward to implement. I used code from Project 3-1 to calculate the red straight ray and the intersection point </span><span class="c10">pFocus</span><span>. </span><span class="c10">pLens </span><span class="c0">was calculated with with the provided rndR and rndTheta variables. Then it was just a matter of constructing a new ray and transforming it to world space.</span></p><p class="c1"><span class="c4"></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 465.50px; height: 244.09px;"><img alt="" src="images/image11.png" style="width: 465.50px; height: 244.09px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c4">Show a &quot;focus stack&quot; where you focus at 4 visibly different depths through a scene.</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 313.50px; height: 235.68px;"><img alt="" src="images/image10.png" style="width: 313.50px; height: 235.68px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 313.50px; height: 235.13px;"><img alt="" src="images/image13.png" style="width: 313.50px; height: 235.13px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 314.50px; height: 235.60px;"><img alt="" src="images/image14.png" style="width: 314.50px; height: 235.60px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 314.50px; height: 235.33px;"><img alt="" src="images/image3.png" style="width: 314.50px; height: 235.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c4"></span></p><p class="c3"><span class="c4">Show a sequence of 4 pictures with visibly different aperture sizes, all focused at the same point in a scene.</span></p><p class="c1"><span class="c4"></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 322.50px; height: 241.88px;"><img alt="" src="images/image2.png" style="width: 322.50px; height: 241.88px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 320.67px; height: 240.50px;"><img alt="" src="images/image5.png" style="width: 320.67px; height: 240.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c4">Aperture = 0.02&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Aperture = 0.05</span></p><p class="c1"><span class="c4"></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 322.50px; height: 242.36px;"><img alt="" src="images/image6.png" style="width: 322.50px; height: 242.36px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 328.50px; height: 245.61px;"><img alt="" src="images/image9.png" style="width: 328.50px; height: 245.61px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c4">Aperture = 0.08&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Aperture = 0.15</span></p><p class="c1"><span class="c4"></span></p><p class="c3"><span class="c0">As the aperture size decreases, the blur decreases and becomes more like a pinhole camera model.</span></p><p class="c1"><span class="c4"></span></p><p class="c1"><span class="c0"></span></p><p class="c8"><span class="c0"></span></p><p class="c9"><span class="c2"><a class="c7" href="https://www.google.com/url?q=https://cal-cs184-student.github.io/sp22-project-webpages-Crazy010517/&amp;sa=D&amp;source=editors&amp;ust=1648884011557996&amp;usg=AOvVaw3tdivG5K5a38jvb7XIOx7F">https://cal-cs184-student.github.io/sp22-project-webpages-Crazy010517/</a></span></p><p class="c1"><span class="c0"></span></p></body></html>